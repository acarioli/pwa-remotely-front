{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Aldana/Desktop/proyectoReact/remotely-pwa/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Aldana/Desktop/proyectoReact/remotely-pwa/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Aldana/Desktop/proyectoReact/remotely-pwa/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import\"../css/JobList.css\";import{Table,Button}from\"react-bootstrap\";import axios from\"axios\";import React,{useState,useEffect}from\"react\";import Swal from\"sweetalert2\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var JobList=function JobList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),jobs=_useState2[0],setJobs=_useState2[1];var URL=\"https://remotely-pwa.herokuapp.com/\";var getJobs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(URL);case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setJobs(data.job);console.log(data.job);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function getJobs(){return _ref.apply(this,arguments);};}();useEffect(function(){getJobs();},[]);var handleDelete=function handleDelete(id){console.log(id);Swal.fire({title:\"Are you sure you want to delete this job?\",showDenyButton:true,confirmButtonText:\"Delete\",denyButtonText:\"Exit\"}).then(function(result){/* Read more about isConfirmed, isDenied below */if(result.isConfirmed){axios.delete(\"\".concat(URL).concat(id));Swal.fire(\"Deleted\",\"\",\"success\");getJobs();}else if(result.isDenied){Swal.fire(\"This job has not been deleted\");}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"m-4\",children:\"Jobs\"}),/*#__PURE__*/_jsxs(Table,{className:\"container m-2 table striped bordered hover\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"container text-center m-5\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Title\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Description\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Actions\"})]})}),jobs.map(function(job){return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"body\",children:[/*#__PURE__*/_jsx(\"td\",{children:job.title}),/*#__PURE__*/_jsx(\"td\",{children:job.description}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:function onClick(){return handleDelete(job._id);},className:\"m-1\",children:\"Delete\"})})]})});})]})]});};export default JobList;","map":{"version":3,"names":["Table","Button","axios","React","useState","useEffect","Swal","JobList","jobs","setJobs","URL","getJobs","get","data","job","console","log","error","handleDelete","id","fire","title","showDenyButton","confirmButtonText","denyButtonText","then","result","isConfirmed","delete","isDenied","map","description","_id"],"sources":["C:/Users/Aldana/Desktop/proyectoReact/remotely-pwa/front/src/components/JobList.jsx"],"sourcesContent":["import \"../css/JobList.css\";\r\nimport { Table, Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst JobList = () => {\r\n  const [jobs, setJobs] = useState([]);\r\n\r\n  const URL = \"https://remotely-pwa.herokuapp.com/\";\r\n\r\n  const getJobs = async () => {\r\n    try {\r\n      const { data } = await axios.get(URL);\r\n      setJobs(data.job);\r\n      console.log(data.job);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getJobs()\r\n  }, [])\r\n\r\n\r\n  const handleDelete = (id) => {\r\n    console.log(id);\r\n\r\n    Swal.fire({\r\n      title: \"Are you sure you want to delete this job?\",\r\n      showDenyButton: true,\r\n      confirmButtonText: \"Delete\",\r\n      denyButtonText: `Exit`,\r\n    }).then((result) => {\r\n      /* Read more about isConfirmed, isDenied below */\r\n      if (result.isConfirmed) {\r\n        axios.delete(`${URL}${id}`);\r\n        Swal.fire(\"Deleted\", \"\", \"success\");\r\n        getJobs();\r\n      } else if (result.isDenied) {\r\n        Swal.fire(\"This job has not been deleted\");\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2 className=\"m-4\">Jobs</h2>\r\n      <Table className=\"container m-2 table striped bordered hover\">\r\n        <thead className=\"container text-center m-5\">\r\n          <tr>\r\n            <th>Title</th>\r\n            <th>Description</th>\r\n            <th>Actions</th>\r\n          </tr>\r\n        </thead>\r\n        {jobs.map((job) => (\r\n          <tbody>\r\n            <tr className=\"body\">\r\n              <td>{job.title}</td>\r\n              <td>{job.description}</td>\r\n              <td className=\"text-center\">\r\n                <Button\r\n                  variant=\"danger\"\r\n                  onClick={() => handleDelete(job._id)}\r\n                  className=\"m-1\"\r\n                >\r\n                  Delete\r\n                </Button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        ))}\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default JobList;\r\n"],"mappings":"0bAAA,MAAO,oBAAoB,CAC3B,OAASA,KAAK,CAAEC,MAAM,KAAQ,iBAAiB,CAC/C,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,KAAI,KAAM,aAAa,CAAC,wFAE/B,GAAMC,QAAO,CAAG,QAAVA,QAAO,EAAS,CACpB,cAAwBH,QAAQ,CAAC,EAAE,CAAC,wCAA7BI,IAAI,eAAEC,OAAO,eAEpB,GAAMC,IAAG,CAAG,qCAAqC,CAEjD,GAAMC,QAAO,4FAAG,qMAEWT,MAAK,CAACU,GAAG,CAACF,GAAG,CAAC,uCAA7BG,IAAI,kBAAJA,IAAI,CACZJ,OAAO,CAACI,IAAI,CAACC,GAAG,CAAC,CACjBC,OAAO,CAACC,GAAG,CAACH,IAAI,CAACC,GAAG,CAAC,CAAC,+EAEtBC,OAAO,CAACE,KAAK,aAAO,CAAC,oEAExB,kBARKN,QAAO,0CAQZ,CAEDN,SAAS,CAAC,UAAM,CACdM,OAAO,EAAE,CACX,CAAC,CAAE,EAAE,CAAC,CAGN,GAAMO,aAAY,CAAG,QAAfA,aAAY,CAAIC,EAAE,CAAK,CAC3BJ,OAAO,CAACC,GAAG,CAACG,EAAE,CAAC,CAEfb,IAAI,CAACc,IAAI,CAAC,CACRC,KAAK,CAAE,2CAA2C,CAClDC,cAAc,CAAE,IAAI,CACpBC,iBAAiB,CAAE,QAAQ,CAC3BC,cAAc,OAChB,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,MAAM,CAAK,CAClB,iDACA,GAAIA,MAAM,CAACC,WAAW,CAAE,CACtBzB,KAAK,CAAC0B,MAAM,WAAIlB,GAAG,SAAGS,EAAE,EAAG,CAC3Bb,IAAI,CAACc,IAAI,CAAC,SAAS,CAAE,EAAE,CAAE,SAAS,CAAC,CACnCT,OAAO,EAAE,CACX,CAAC,IAAM,IAAIe,MAAM,CAACG,QAAQ,CAAE,CAC1BvB,IAAI,CAACc,IAAI,CAAC,+BAA+B,CAAC,CAC5C,CACF,CAAC,CAAC,CACJ,CAAC,CAED,mBACE,aAAK,SAAS,CAAC,WAAW,wBACxB,WAAI,SAAS,CAAC,KAAK,kBAAU,cAC7B,MAAC,KAAK,EAAC,SAAS,CAAC,4CAA4C,wBAC3D,cAAO,SAAS,CAAC,2BAA2B,uBAC1C,mCACE,6BAAc,cACd,mCAAoB,cACpB,+BAAgB,GACb,EACC,CACPZ,IAAI,CAACsB,GAAG,CAAC,SAAChB,GAAG,qBACZ,oCACE,YAAI,SAAS,CAAC,MAAM,wBAClB,oBAAKA,GAAG,CAACO,KAAK,EAAM,cACpB,oBAAKP,GAAG,CAACiB,WAAW,EAAM,cAC1B,WAAI,SAAS,CAAC,aAAa,uBACzB,KAAC,MAAM,EACL,OAAO,CAAC,QAAQ,CAChB,OAAO,CAAE,yBAAMb,aAAY,CAACJ,GAAG,CAACkB,GAAG,CAAC,EAAC,CACrC,SAAS,CAAC,KAAK,oBAGR,EACN,GACF,EACC,EACT,CAAC,GACI,GACJ,CAEV,CAAC,CAED,cAAezB,QAAO"},"metadata":{},"sourceType":"module"}