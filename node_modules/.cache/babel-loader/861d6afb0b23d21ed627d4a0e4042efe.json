{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Aldana/Desktop/proyectoReact/remotely-pwa/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Aldana/Desktop/proyectoReact/remotely-pwa/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Aldana/Desktop/proyectoReact/remotely-pwa/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Table,Button}from\"react-bootstrap\";import axios from\"axios\";import React,{useState,useEffect}from\"react\";import Swal from\"sweetalert2\";import\"../css/LoggedUsers.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var LoggedUsers=function LoggedUsers(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var URL=\"https://remotely-pwa.herokuapp.com/\";var getUsers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(URL);case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setUsers(data.user);console.log(data.user);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function getUsers(){return _ref.apply(this,arguments);};}();useEffect(function(){getUsers();},[]);var handleDelete=function handleDelete(id){console.log(id);Swal.fire({title:\"Are you sure you want to delete this user?\",showDenyButton:true,confirmButtonText:\"Delete\",denyButtonText:\"Exit\"}).then(function(result){/* Read more about isConfirmed, isDenied below */if(result.isConfirmed){axios.delete(\"\".concat(URL).concat(id));Swal.fire(\"Deleted\",\"\",\"success\");getUsers();}else if(result.isDenied){Swal.fire(\"This user has not been deleted\");}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"m-4\",children:\"Users\"}),/*#__PURE__*/_jsxs(Table,{className:\"container m-2 table striped bordered hover\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"container text-left m-5\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Actions\"})]})}),users.map(function(user){return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{className:\"body\",children:[/*#__PURE__*/_jsx(\"td\",{children:user.firstName}),/*#__PURE__*/_jsx(\"td\",{children:user.lastName}),/*#__PURE__*/_jsx(\"td\",{children:user.email}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:function onClick(){return handleDelete(user._id);},className:\"m-1\",children:\"Delete\"})})]})});})]})]});};export default LoggedUsers;","map":{"version":3,"names":["Table","Button","axios","React","useState","useEffect","Swal","LoggedUsers","users","setUsers","URL","getUsers","get","data","user","console","log","error","handleDelete","id","fire","title","showDenyButton","confirmButtonText","denyButtonText","then","result","isConfirmed","delete","isDenied","map","firstName","lastName","email","_id"],"sources":["C:/Users/Aldana/Desktop/proyectoReact/remotely-pwa/front/src/components/LoggedUsers.jsx"],"sourcesContent":["import { Table, Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport \"../css/LoggedUsers.css\";\r\n\r\nconst LoggedUsers = () => {\r\n  const [users, setUsers] = useState([]);\r\n\r\n  const URL = \"https://remotely-pwa.herokuapp.com/\";\r\n\r\n  const getUsers = async () => {\r\n    try {\r\n      const { data } = await axios.get(URL);\r\n      setUsers(data.user);\r\n      console.log(data.user);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUsers()\r\n  }, [])\r\n\r\n\r\n  const handleDelete = (id) => {\r\n    console.log(id);\r\n\r\n    Swal.fire({\r\n      title: \"Are you sure you want to delete this user?\",\r\n      showDenyButton: true,\r\n      confirmButtonText: \"Delete\",\r\n      denyButtonText: `Exit`,\r\n    }).then((result) => {\r\n      /* Read more about isConfirmed, isDenied below */\r\n      if (result.isConfirmed) {\r\n        axios.delete(`${URL}${id}`);\r\n        Swal.fire(\"Deleted\", \"\", \"success\");\r\n        getUsers();\r\n      } else if (result.isDenied) {\r\n        Swal.fire(\"This user has not been deleted\");\r\n      }\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container\">\r\n      <h2 className=\"m-4\">Users</h2>\r\n      <Table className=\"container m-2 table striped bordered hover\">\r\n        <thead className=\"container text-left m-5\">\r\n          <tr>\r\n            <th>First Name</th>\r\n            <th>Last Name</th>\r\n            <th>Email</th>\r\n            <th className=\"text-center\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        {users.map((user) => (\r\n          <tbody>\r\n            <tr className=\"body\">\r\n              <td>{user.firstName}</td>\r\n              <td>{user.lastName}</td>\r\n              <td>{user.email}</td>\r\n              <td className=\"text-center\">\r\n                <Button\r\n                  variant=\"danger\"\r\n                  onClick={() => handleDelete(user._id)}\r\n                  className=\"m-1\"\r\n                >\r\n                  Delete\r\n                </Button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        ))}\r\n      </Table>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoggedUsers;"],"mappings":"0bAAA,OAASA,KAAK,CAAEC,MAAM,KAAQ,iBAAiB,CAC/C,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,KAAI,KAAM,aAAa,CAC9B,MAAO,wBAAwB,CAAC,wFAEhC,GAAMC,YAAW,CAAG,QAAdA,YAAW,EAAS,CACxB,cAA0BH,QAAQ,CAAC,EAAE,CAAC,wCAA/BI,KAAK,eAAEC,QAAQ,eAEtB,GAAMC,IAAG,CAAG,qCAAqC,CAEjD,GAAMC,SAAQ,4FAAG,qMAEUT,MAAK,CAACU,GAAG,CAACF,GAAG,CAAC,uCAA7BG,IAAI,kBAAJA,IAAI,CACZJ,QAAQ,CAACI,IAAI,CAACC,IAAI,CAAC,CACnBC,OAAO,CAACC,GAAG,CAACH,IAAI,CAACC,IAAI,CAAC,CAAC,+EAEvBC,OAAO,CAACE,KAAK,aAAO,CAAC,oEAExB,kBARKN,SAAQ,0CAQb,CAEDN,SAAS,CAAC,UAAM,CACdM,QAAQ,EAAE,CACZ,CAAC,CAAE,EAAE,CAAC,CAGN,GAAMO,aAAY,CAAG,QAAfA,aAAY,CAAIC,EAAE,CAAK,CAC3BJ,OAAO,CAACC,GAAG,CAACG,EAAE,CAAC,CAEfb,IAAI,CAACc,IAAI,CAAC,CACRC,KAAK,CAAE,4CAA4C,CACnDC,cAAc,CAAE,IAAI,CACpBC,iBAAiB,CAAE,QAAQ,CAC3BC,cAAc,OAChB,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,MAAM,CAAK,CAClB,iDACA,GAAIA,MAAM,CAACC,WAAW,CAAE,CACtBzB,KAAK,CAAC0B,MAAM,WAAIlB,GAAG,SAAGS,EAAE,EAAG,CAC3Bb,IAAI,CAACc,IAAI,CAAC,SAAS,CAAE,EAAE,CAAE,SAAS,CAAC,CACnCT,QAAQ,EAAE,CACZ,CAAC,IAAM,IAAIe,MAAM,CAACG,QAAQ,CAAE,CAC1BvB,IAAI,CAACc,IAAI,CAAC,gCAAgC,CAAC,CAC7C,CACF,CAAC,CAAC,CACJ,CAAC,CAED,mBACE,aAAK,SAAS,CAAC,WAAW,wBACxB,WAAI,SAAS,CAAC,KAAK,mBAAW,cAC9B,MAAC,KAAK,EAAC,SAAS,CAAC,4CAA4C,wBAC3D,cAAO,SAAS,CAAC,yBAAyB,uBACxC,mCACE,kCAAmB,cACnB,iCAAkB,cAClB,6BAAc,cACd,WAAI,SAAS,CAAC,aAAa,qBAAa,GACrC,EACC,CACPZ,KAAK,CAACsB,GAAG,CAAC,SAAChB,IAAI,qBACd,oCACE,YAAI,SAAS,CAAC,MAAM,wBAClB,oBAAKA,IAAI,CAACiB,SAAS,EAAM,cACzB,oBAAKjB,IAAI,CAACkB,QAAQ,EAAM,cACxB,oBAAKlB,IAAI,CAACmB,KAAK,EAAM,cACrB,WAAI,SAAS,CAAC,aAAa,uBACzB,KAAC,MAAM,EACL,OAAO,CAAC,QAAQ,CAChB,OAAO,CAAE,yBAAMf,aAAY,CAACJ,IAAI,CAACoB,GAAG,CAAC,EAAC,CACtC,SAAS,CAAC,KAAK,oBAGR,EACN,GACF,EACC,EACT,CAAC,GACI,GACJ,CAEV,CAAC,CAED,cAAe3B,YAAW"},"metadata":{},"sourceType":"module"}