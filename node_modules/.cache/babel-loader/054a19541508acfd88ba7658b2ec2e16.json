{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Aldana/Desktop/proyectoReact/remotely-pwa/front/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Aldana/Desktop/proyectoReact/remotely-pwa/front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Aldana/Desktop/proyectoReact/remotely-pwa/front/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Table,Button}from\"react-bootstrap\";import axios from\"axios\";import React,{useState,useEffect}from\"react\";import Swal from\"sweetalert2\";import\"../css/Messages.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Messages=function Messages(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),contacts=_useState2[0],setContacts=_useState2[1];var URL=\"https://remotely-pwa.herokuapp.com/contactus/\";var getContacts=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _yield$axios$get,data;return _regeneratorRuntime().wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get(URL);case 3:_yield$axios$get=_context.sent;data=_yield$axios$get.data;setContacts(data.user);console.log(data.user);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 12:case\"end\":return _context.stop();}}},_callee,null,[[0,9]]);}));return function getContacts(){return _ref.apply(this,arguments);};}();useEffect(function(){getContacts();},[]);var handleDelete=function handleDelete(id){console.log(id);Swal.fire({title:\"Are you sure you want to delete this message?\",showDenyButton:true,confirmButtonText:\"Delete\",denyButtonText:\"Exit\"}).then(function(result){/* Read more about isConfirmed, isDenied below */if(result.isConfirmed){axios.delete(\"\".concat(URL).concat(id));Swal.fire(\"Deleted\",\"\",\"success\");getContacts();}else if(result.isDenied){Swal.fire(\"This message has not been deleted\");}});};return/*#__PURE__*/_jsxs(\"div\",{className:\"container w-100\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"m-4\",children:\"Messages\"}),/*#__PURE__*/_jsxs(Table,{className:\"container m-2 table bordered hover\",children:[/*#__PURE__*/_jsx(\"thead\",{className:\"container text-left m-5\",children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"First Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Last Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Email\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Message\"}),/*#__PURE__*/_jsx(\"th\",{className:\"text-center\",children:\"Actions\"})]})}),contacts.map(function(contact){return/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{id:\"body\",children:[/*#__PURE__*/_jsx(\"td\",{children:contact.firstName}),/*#__PURE__*/_jsx(\"td\",{children:contact.lastName}),/*#__PURE__*/_jsx(\"td\",{children:contact.email}),/*#__PURE__*/_jsx(\"td\",{children:contact.message}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(Button,{variant:\"danger\",onClick:function onClick(){return handleDelete(contact._id);},className:\"m-1\",children:\"Delete\"})})]})});})]})]});};export default Messages;","map":{"version":3,"names":["Table","Button","axios","React","useState","useEffect","Swal","Messages","contacts","setContacts","URL","getContacts","get","data","user","console","log","error","handleDelete","id","fire","title","showDenyButton","confirmButtonText","denyButtonText","then","result","isConfirmed","delete","isDenied","map","contact","firstName","lastName","email","message","_id"],"sources":["C:/Users/Aldana/Desktop/proyectoReact/remotely-pwa/front/src/components/Messages.jsx"],"sourcesContent":["import { Table, Button } from \"react-bootstrap\";\r\nimport axios from \"axios\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport Swal from \"sweetalert2\";\r\nimport \"../css/Messages.css\";\r\n\r\n\r\nconst Messages = () => {\r\n\r\n  const [contacts, setContacts] = useState([]);\r\n\r\n  const URL = \"https://remotely-pwa.herokuapp.com/contactus/\";\r\n\r\n  const getContacts = async () => {\r\n    try {\r\n      const { data } = await axios.get(URL);\r\n      setContacts(data.user);\r\n      console.log(data.user);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getContacts()\r\n  }, [])\r\n\r\n\r\n  const handleDelete = (id) => {\r\n    console.log(id);\r\n\r\n    Swal.fire({\r\n      title: \"Are you sure you want to delete this message?\",\r\n      showDenyButton: true,\r\n      confirmButtonText: \"Delete\",\r\n      denyButtonText: `Exit`,\r\n    }).then((result) => {\r\n      /* Read more about isConfirmed, isDenied below */\r\n      if (result.isConfirmed) {\r\n        axios.delete(`${URL}${id}`);\r\n        Swal.fire(\"Deleted\", \"\", \"success\");\r\n        getContacts();\r\n      } else if (result.isDenied) {\r\n        Swal.fire(\"This message has not been deleted\");\r\n      }\r\n    });\r\n  };\r\n\r\n\r\n  return (\r\n    <div className=\"container w-100\">\r\n      <h2 className=\"m-4\">Messages</h2>\r\n    <Table className=\"container m-2 table bordered hover\">\r\n     <thead className=\"container text-left m-5\">\r\n          <tr>\r\n            <th>First Name</th>\r\n            <th>Last Name</th>\r\n            <th>Email</th>\r\n            <th>Message</th>\r\n            <th className=\"text-center\">Actions</th>\r\n          </tr>\r\n        </thead>\r\n        {contacts.map((contact) => (\r\n          <tbody>\r\n            <tr id=\"body\">\r\n              <td>{contact.firstName}</td>\r\n              <td>{contact.lastName}</td>\r\n              <td>{contact.email}</td>\r\n              <td>{contact.message}</td>\r\n              <td className=\"text-center\">\r\n                <Button\r\n                  variant=\"danger\"\r\n                  onClick={() => handleDelete(contact._id)}\r\n                  className=\"m-1\"\r\n                >\r\n                  Delete\r\n                </Button>\r\n              </td>\r\n            </tr>\r\n          </tbody>\r\n        ))}\r\n          </Table>\r\n          </div>\r\n  );\r\n};\r\n\r\nexport default Messages;"],"mappings":"0bAAA,OAASA,KAAK,CAAEC,MAAM,KAAQ,iBAAiB,CAC/C,MAAOC,MAAK,KAAM,OAAO,CACzB,MAAOC,MAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAOC,KAAI,KAAM,aAAa,CAC9B,MAAO,qBAAqB,CAAC,wFAG7B,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CAErB,cAAgCH,QAAQ,CAAC,EAAE,CAAC,wCAArCI,QAAQ,eAAEC,WAAW,eAE5B,GAAMC,IAAG,CAAG,+CAA+C,CAE3D,GAAMC,YAAW,4FAAG,qMAEOT,MAAK,CAACU,GAAG,CAACF,GAAG,CAAC,uCAA7BG,IAAI,kBAAJA,IAAI,CACZJ,WAAW,CAACI,IAAI,CAACC,IAAI,CAAC,CACtBC,OAAO,CAACC,GAAG,CAACH,IAAI,CAACC,IAAI,CAAC,CAAC,+EAEvBC,OAAO,CAACE,KAAK,aAAO,CAAC,oEAExB,kBARKN,YAAW,0CAQhB,CAEDN,SAAS,CAAC,UAAM,CACdM,WAAW,EAAE,CACf,CAAC,CAAE,EAAE,CAAC,CAGN,GAAMO,aAAY,CAAG,QAAfA,aAAY,CAAIC,EAAE,CAAK,CAC3BJ,OAAO,CAACC,GAAG,CAACG,EAAE,CAAC,CAEfb,IAAI,CAACc,IAAI,CAAC,CACRC,KAAK,CAAE,+CAA+C,CACtDC,cAAc,CAAE,IAAI,CACpBC,iBAAiB,CAAE,QAAQ,CAC3BC,cAAc,OAChB,CAAC,CAAC,CAACC,IAAI,CAAC,SAACC,MAAM,CAAK,CAClB,iDACA,GAAIA,MAAM,CAACC,WAAW,CAAE,CACtBzB,KAAK,CAAC0B,MAAM,WAAIlB,GAAG,SAAGS,EAAE,EAAG,CAC3Bb,IAAI,CAACc,IAAI,CAAC,SAAS,CAAE,EAAE,CAAE,SAAS,CAAC,CACnCT,WAAW,EAAE,CACf,CAAC,IAAM,IAAIe,MAAM,CAACG,QAAQ,CAAE,CAC1BvB,IAAI,CAACc,IAAI,CAAC,mCAAmC,CAAC,CAChD,CACF,CAAC,CAAC,CACJ,CAAC,CAGD,mBACE,aAAK,SAAS,CAAC,iBAAiB,wBAC9B,WAAI,SAAS,CAAC,KAAK,sBAAc,cACnC,MAAC,KAAK,EAAC,SAAS,CAAC,oCAAoC,wBACpD,cAAO,SAAS,CAAC,yBAAyB,uBACrC,mCACE,kCAAmB,cACnB,iCAAkB,cAClB,6BAAc,cACd,+BAAgB,cAChB,WAAI,SAAS,CAAC,aAAa,qBAAa,GACrC,EACC,CACPZ,QAAQ,CAACsB,GAAG,CAAC,SAACC,OAAO,qBACpB,oCACE,YAAI,EAAE,CAAC,MAAM,wBACX,oBAAKA,OAAO,CAACC,SAAS,EAAM,cAC5B,oBAAKD,OAAO,CAACE,QAAQ,EAAM,cAC3B,oBAAKF,OAAO,CAACG,KAAK,EAAM,cACxB,oBAAKH,OAAO,CAACI,OAAO,EAAM,cAC1B,WAAI,SAAS,CAAC,aAAa,uBACzB,KAAC,MAAM,EACL,OAAO,CAAC,QAAQ,CAChB,OAAO,CAAE,yBAAMjB,aAAY,CAACa,OAAO,CAACK,GAAG,CAAC,EAAC,CACzC,SAAS,CAAC,KAAK,oBAGR,EACN,GACF,EACC,EACT,CAAC,GACQ,GACF,CAEhB,CAAC,CAED,cAAe7B,SAAQ"},"metadata":{},"sourceType":"module"}